# 数组

数组是一种线性表数据结构。它用一组连续的内存空间，来存储一组具有相同类型的数据。

## 线性表

数据排成像一条线一样的结构。每个线性表上的数据最多只有前和后两个方向。除了数组，链表、队列、栈等也是线性表结构。

与之相对的是非线性表，如二叉树、图、堆等。之所以叫做非线性表，是因为在非线性表中数据之间并不是简单的前后关系。

## 随机访问

因为有了**连续的内存空间和相同类型的数据**和**线性表**这两个限制，数组得以实现“随机访问”。同时，这两个限制也让数组的很多操作变得低效，比如要想在数组中删除、插入一个数据，为了保证连续性，就需要做大量的数据搬移工作。

计算机会给每个内存单位分配一个地址，通过地址来访问内存中的数据。当计算机需要随机访问数组中的某个元素时，他会首先通过寻址公式`a[i]_address = base_address + i * data_type_size`计算出该元素存储的内存地址。其中`data_type_size`表示数组中每个元素的大小。

## 低效的“插入”和“删除”

假设数组的长度为`n`，现在，如果我们需要将一个数据插入到数组中的第`k`个位置。为了把第`k`个位置腾出来给新来的数据，我们需要将第`k`~`n`这部分的元素都顺序地往后挪一位。如果在数组的末尾插入数据，不需要移动数据，时间复杂度为`O(1)`。但如果在数组的开头插入元素，那所有的数据都需要依次往后移动一位，所以最坏的时间复杂度为`O(n)`。因为我们在每个位置插入元素的概率是一样的，所以平均情况时间复杂度为`(1+2+...n)/n=O(n)`。

但是如果数组只是被当作存储数据的集合，存储的数据之间没有任何规律。在这种情况下，如果要将某个数据插入到第`k`个位置，为了避免大规模的数据搬移，我们可以直接将第`k`位的数据搬移到数组末尾，把新元素直接放入第`k`个位置。

跟插入数据类似，删除第`k`个位置的数据也需要搬移数据。平均时间复杂度也是`O(n)`。

## 必知必会

实现一个支持动态扩容的数组

实现一个大小固定的有序数组，支持动态增删改操作

实现两个有序数组合并为一个有序数组
